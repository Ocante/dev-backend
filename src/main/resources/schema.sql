-- Cria as tabelas conforme a sua JPA (nomes e colunas em UPPERCASE)

DROP TABLE IF EXISTS TICKET;
DROP TABLE IF EXISTS MODULE;
DROP TABLE IF EXISTS CLIENT;

CREATE TABLE CLIENT (
  ID   BIGINT PRIMARY KEY,
  NAME VARCHAR(100) NOT NULL
);

CREATE TABLE MODULE (
  ID   BIGINT PRIMARY KEY,
  NAME VARCHAR(100) NOT NULL
);

CREATE TABLE TICKET (
  ID            BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  TITLE         VARCHAR(200) NOT NULL,
  FK_ID_CLIENT  BIGINT NOT NULL,
  OPENING_DATE  DATE  NOT NULL,
  CLOSING_DATE  DATE,
  FK_ID_MODULE  BIGINT NOT NULL,
  CONSTRAINT FK_TICKET_CLIENT FOREIGN KEY (FK_ID_CLIENT) REFERENCES CLIENT(ID),
  CONSTRAINT FK_TICKET_MODULE FOREIGN KEY (FK_ID_MODULE) REFERENCES MODULE(ID)
);
